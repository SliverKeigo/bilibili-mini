# BiliMini 📺

**极简 Bilibili 音乐播放器 - macOS 菜单栏应用**

一个轻量级的哔哩哔哩音乐播放器，专为 macOS 设计。常驻菜单栏，点击即用，专注于纯粹的听歌体验。

## ✨ 特性

### 核心功能
- 🎯 **极简设计**：无边框暗黑风，粉色点缀
- 📍 **菜单栏应用**：不占用 Dock，点击托盘图标显示/隐藏
- 🎵 **真实播放**：直接对接 B 站 API，输入 BV 号即可播放
- 🎨 **精致 UI**：Tailwind CSS + React，流畅动画
- ⚡️ **高性能**：Tauri + React，内存占用极低

### 播放控制
- ✅ 播放/暂停/上一首/下一首
- ✅ 三种循环模式（关闭/列表循环/单曲循环）
- ✅ 随机播放模式
- ✅ 可拖动进度条
- ✅ 音量调节
- ✅ 封面显示 + 歌曲信息

### 播放列表
- 🔍 **搜索功能**：直接搜索 B 站视频并加入播放列表
- 📦 **合集自动展开**：输入合集 BV 号，自动把所有分P加进来
- 💾 **持久化**：播放列表、音量、循环模式、随机模式自动保存
- 📥 **导出/导入**：备份和分享播放列表（JSON格式）
- 🗑️ **清空播放列表**：一键清空所有歌曲
- 🕐 **播放历史**：记录最近 50 首歌

### 快捷键
- **应用内快捷键**：
  - `Space`: 播放/暂停
  - `←`: 上一首
  - `→`: 下一首
  
- **全局快捷键**（即使应用未激活也能用）：
  - `Cmd+Shift+Space`: 播放/暂停
  - `Cmd+Shift+→`: 下一首
  - `Cmd+Shift+←`: 上一首

## 🛠️ 技术栈

- **前端**: React 19 + TypeScript + Vite + Tailwind CSS
- **框架**: Tauri 2.x (Rust + Webview)
- **插件**: 
  - `tauri-plugin-positioner` (MenuBar 定位)
  - `tauri-plugin-http` (绕过 CORS 和 Referer 限制)
  - `tauri-plugin-global-shortcut` (全局快捷键)

## 🚀 快速开始

### 开发模式

```bash
pnpm install
pnpm tauri dev
```

### 构建发布版

```bash
pnpm tauri build
```

生成的 `.app` 和 `.dmg` 文件位于：
```
src-tauri/target/aarch64-apple-darwin/release/bundle/
```

## 📖 使用说明

### 基础使用
1. 启动后，菜单栏会出现一个图标
2. 点击图标，弹出播放器窗口
3. 在顶部输入框输入：
   - **BV 号**（如 `BV1xx411c7mD`）或完整链接 → 直接添加
   - **关键词**（如 "周杰伦"）→ 搜索视频
4. 回车，自动加入播放列表并开始播放

### 高级功能

#### 🔍 搜索功能
1. 输入关键词（比如 "周杰伦演唱会"）
2. 按回车进入搜索模式
3. 点击搜索结果右侧的 **+** 按钮添加到播放列表
4. 点击 **← 返回** 回到播放列表

#### 📦 合集自动展开
1. 输入一个合集/多P视频的 BV 号
2. 自动识别并把所有分P加进来
3. 每一P单独显示在播放列表中

#### 💾 导出/导入播放列表
- **导出**：点击控制栏的下载图标 (⬇️)，保存为 JSON 文件
- **导入**：点击上传图标 (⬆️)，选择之前导出的 JSON 文件

#### 🕐 播放历史
- 点击控制栏的时钟图标 (🕒) 查看最近播放的 50 首歌
- 点击历史中的歌曲立即播放

### 快捷键

| 快捷键 | 功能 |
|--------|------|
| `Space` | 播放/暂停（应用内） |
| `←` | 上一首（应用内） |
| `→` | 下一首（应用内） |
| `Cmd+Shift+Space` | 播放/暂停（全局） |
| `Cmd+Shift+←` | 上一首（全局） |
| `Cmd+Shift+→` | 下一首（全局） |

### 功能说明

- **循环模式**：点击循环图标切换（关闭 → 列表循环 → 单曲循环）
- **随机播放**：点击随机播放图标 (🔀) 开启/关闭
- **删除歌曲**：鼠标悬停在播放列表项上，点击右侧 `X` 按钮
- **拖动进度**：点击进度条任意位置快速跳转
- **清空播放列表**：点击搜索栏右侧的垃圾桶图标 (🗑️)

## 🎯 TODO

- [ ] 媒体键支持（Mac 键盘的播放/暂停键）
- [ ] 迷你模式（更小的悬浮窗）
- [ ] 歌词显示
- [ ] 音质选择
- [ ] 主题切换
- [ ] 播放统计

## 📄 License

MIT

---

Made with ❤️ by [SliverKeigo](https://github.com/SliverKeigo)

